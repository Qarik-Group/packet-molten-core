{
  "ignition": {
    "config": {},
    "security": {
      "tls": {}
    },
    "timeouts": {},
    "version": "2.2.0"
  },
  "networkd": {},
  "passwd": {},
  "storage": {
    "files": [
      {
        "filesystem": "root",
        "path": "/opt/bin/mc",
        "contents": {
          "source": "https://github.com/starkandwayne/molten-core/releases/download/v0.0.1/mc",
          "verification": {
            "hash": "sha512-4d87e5860f66f0325def57d784609da3461139f559bc37fc337b130b7f2a0fc5f420dce0674d5bb1cfdf6bfc39778e9b8d6ecf0339e57352ca244aa703d7b900"
          }
        },
        "mode": 493
      }
    ]
  },
  "systemd": {
    "units": [
      {
        "dropins": [
          {
            "contents": "[Unit]\nRequires=coreos-metadata.service\nAfter=coreos-metadata.service\n\n[Service]\nEnvironmentFile=/run/metadata/coreos\nEnvironment=\"ETCD_IMAGE_TAG=v3.2.27\"\nExecStart=\nExecStart=/usr/lib/coreos/etcd-wrapper $ETCD_OPTS \\\n  --listen-peer-urls=\"http://$${COREOS_PACKET_IPV4_PRIVATE_0}:2380\" \\\n  --listen-client-urls=\"http://0.0.0.0:2379\" \\\n  --initial-advertise-peer-urls=\"http://$${COREOS_PACKET_IPV4_PRIVATE_0}:2380\" \\\n  --advertise-client-urls=\"http://$${COREOS_PACKET_IPV4_PRIVATE_0}:2379\" \\\n  --discovery=\"${discovery_url}\"",
            "name": "20-clct-etcd-member.conf"
          }
        ],
        "enable": true,
        "name": "etcd-member.service"
      },
      {
        "dropins": [
          {
            "contents": "[Service]\nExecStart=\nExecStart=/usr/lib/coreos/flannel-wrapper $FLANNEL_OPTS\nExecStartPre=/usr/bin/etcdctl set /coreos.com/network/config \"{\\\"Network\\\": \\\"10.1.0.0/16\\\"}\"",
            "name": "20-clct-flannel.conf"
          }
        ],
        "enable": true,
        "name": "flanneld.service"
      },
      {
        "contents": "[Unit]\nDescription=MoltenCore\nRequires=etcd-member.service flanneld.service coreos-metadata.service\nAfter=etcd-member.service flanneld.service coreos-metadata.service\n\n[Service]\nType=oneshot\nExecStart=/opt/bin/mc init\nRemainAfterExit=true\nStandardOutput=journal\nUser=root\n\n[Install]\nWantedBy=multi-user.target docker.service\n",
        "enable": true,
        "name": "mc.service"
      }
    ]
  }
}
